/* hides the native tabs */
/* #TabsToolbar { */
/*   visibility: collapse; */
/* } */

/* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_tabstoolbar.css made available under Mozilla Public License v. 2.0
See the above repository for updates as well as full license text. */

/* Hide tabs unless cursor is on top of toolbar */

:root:not([customizing]) #navigator-toolbox {
  position: relative;
  z-index: 1;
}

#navigator-toolbox:not(:hover) > #titlebar {
  -moz-window-dragging: no-drag !important;
  pointer-events: none;
}

:root:not([customizing]) #navigator-toolbox:hover,
:root:not([customizing]) #titlebar {
  margin-bottom: calc(
    0px - 2 * var(--tab-block-margin) - var(--tab-min-height)
  );
}
#TabsToolbar:not([customizing]) {
  visibility: hidden;
  transition: visibility 0ms linear 200ms;
}

#navigator-toolbox,
#titlebar {
  transition: margin-bottom 48ms ease-out 200ms;
}

#navigator-toolbox:hover {
  transition-delay: 0s;
}
#navigator-toolbox:hover > #titlebar {
  margin-bottom: 0px;
  transition-delay: 0s;
}

#navigator-toolbox:hover #TabsToolbar {
  visibility: visible;
  transition-delay: 18ms;
}
/* These rules make sure that height of tabs toolbar doesn't exceed tab-min-height */
#tabbrowser-tabs:not([secondarytext-unsupported]) .tab-label-container {
  max-height: var(--tab-min-height);
}
.tab-label {
  line-height: 20px !important;
}
:root[uidensity="compact"] .tab-label {
  line-height: 18px !important;
}

/* HIDES THE MAIN TOOLBAR AND SHOWS IT WHEN THE CURSOR IS OVER THE TABS TOOLBAR */

/* :root { */
/*   --uc-navbar-transform: -30px; */
/* } */
/* :root[uidensity="compact"] { */
/*   --uc-navbar-transform: -14px; */
/* } */

/* #navigator-toolbox > div { */
/*   display: contents; */
/* } */
/* :root[sessionrestored] */
/*   :where( */
/*     #nav-bar, */
/*     #PersonalToolbar, */
/*     #tab-notification-deck, */
/*     .global-notificationbox */
/*   ) { */
/*   transform: translateY(var(--uc-navbar-transform)); */
/* } */
/* :root:is([customizing], [chromehidden*="toolbar"]) */
/*   :where( */
/*     #nav-bar, */
/*     #PersonalToolbar, */
/*     #tab-notification-deck, */
/*     .global-notificationbox */
/*   ) { */
/*   transform: none !important; */
/*   opacity: 1 !important; */
/* } */

/* #nav-bar:not([customizing]) { */
/*   opacity: 0; */
/*   transition: transform 400ms ease 1.8s, opacity 400ms ease 1.8s !important; */
/*   position: relative; */
/*   z-index: 2; */
/* } */
/* #TabsToolbar { */
/*   position: relative; */
/*   z-index: 3; */
/* } */

/* /* Show when toolbox is focused, like when urlbar has received focus */
*/
/* #navigator-toolbox:focus-within > .browser-toolbar { */
/*   transform: translateY(0); */
/*   opacity: 1; */
/*   transition-duration: 500ms, 200ms !important; */
/*   transition-delay: 0s !important; */
/* } */
/* /* Show when toolbox is hovered */ */
/* #titlebar:hover ~ .browser-toolbar, */
/* #nav-bar:hover, */
/* #nav-bar:hover + #PersonalToolbar { */
/*   transform: translateY(0); */
/*   opacity: 1; */
/*   transition-duration: 500ms, 200ms !important; */
/*   transition-delay: 0s !important; */
/* } */

/* /* Bookmarks toolbar needs so extra rules */ */
/* #PersonalToolbar { */
/*   transition: transform 400ms ease 1.8s !important; */
/*   position: relative; */
/*   z-index: 1; */
/* } */

/* /* Move up the content view */ */
/* :root[sessionrestored]:not([inFullscreen]) > body > #browser { */
/*   margin-top: var(--uc-navbar-transform); */
/* } */

/* /* Source file https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/window_control_placeholder_support.css made available under Mozilla Public License v. 2.0 */
/* See the above repository for updates as well as full license text. */ */

/* /* Creates placeholders for window controls */ */
/* /* This is a supporting file used by other stylesheets */ */

/* /* This stylesheet is pretty much unnecessary if window titlebar is enabled */ */

/* /* This file should preferably be imported before other stylesheets */ */

/* /* Defaults for window controls on RIGHT side of the window */ */
/* /* Modify these values to match your preferences */ */
/* :root:is([tabsintitlebar], [sizemode="fullscreen"]) { */
/*   --uc-window-control-width: 138px; /* Space reserved for window controls (Win10) */ */
/*   /* Extra space reserved on both sides of the nav-bar to be able to drag the window */ */
/*   --uc-window-drag-space-pre: 30px; /* left side*/ */
/*   --uc-window-drag-space-post: 30px; /* right side*/ */
/* } */

/* :root:is([tabsintitlebar][sizemode="maximized"], [sizemode="fullscreen"]) { */
/*   --uc-window-drag-space-pre: 0px; /* Remove pre space */ */
/* } */

/* @media (-moz-platform: windows-win7), */
/*   (-moz-platform: windows-win8), */
/*   (-moz-os-version: windows-win7), */
/*   (-moz-os-version: windows-win8) { */
/*   :root:is([tabsintitlebar], [sizemode="fullscreen"]) { */
/*     --uc-window-control-width: 105px; */
/*   } */
/* } */

/* @media (-moz-gtk-csd-available) { */
/*   :root:is([tabsintitlebar], [sizemode="fullscreen"]) { */
/*     --uc-window-control-width: 84px; */
/*   } */
/* } */
/* @media (-moz-platform: macos) { */
/*   :root:is([tabsintitlebar], [sizemode="fullscreen"]) { */
/*     --uc-window-control-width: 72px; */
/*   } */
/* } */

/* .titlebar-buttonbox, */
/* #window-controls { */
/*   color: var(--toolbar-color); */
/* } */
/* :root[sizemode="fullscreen"] .titlebar-buttonbox-container { */
/*   display: none; */
/* } */
/* :root[sizemode="fullscreen"] #navigator-toolbox { */
/*   position: relative; */
/* } */

/* :root[sizemode="fullscreen"] */
/*   #TabsToolbar */
/*   > .titlebar-buttonbox-container:last-child, */
/* :root[sizemode="fullscreen"] #window-controls { */
/*   position: absolute; */
/*   display: flex; */
/*   top: 0; */
/*   right: 0; */
/*   height: 40px; */
/* } */

/* :root[sizemode="fullscreen"] */
/*   #TabsToolbar */
/*   > .titlebar-buttonbox-container:last-child, */
/* :root[uidensity="compact"][sizemode="fullscreen"] #window-controls { */
/*   height: 32px; */
/* } */

/* #nav-bar { */
/*   border-inline: var(--uc-window-drag-space-pre, 0px) solid */
/*     var(--toolbar-bgcolor); */
/*   border-inline-style: solid !important; */
/*   border-right-width: calc( */
/*     var(--uc-window-control-width, 0px) + var(--uc-window-drag-space-post, 0px) */
/*   ); */
/* } */

/* /* Rules for window controls on left layout */ */
/* @media (-moz-gtk-csd-reversed-placement), (-moz-platform: macos) { */
/*   :root[tabsintitlebar="true"] #nav-bar { */
/*     border-inline-width: calc( */
/*         var(--uc-window-control-width, 0px) + */
/*           var(--uc-window-drag-space-post, 0px) */
/*       ) */
/*       var(--uc-window-drag-space-pre, 0px); */
/*   } */
/*   :root[sizemode="fullscreen"] */
/*     #TabsToolbar */
/*     > .titlebar-buttonbox-container:last-child, */
/*   :root[sizemode="fullscreen"] #window-controls { */
/*     right: unset; */
/*   } */
/* } */

/* /* This pref can be used to force window controls on left even if that is not normal behavior on your OS */ */
/* @supports -moz-bool-pref("userchrome.force-window-controls-on-left.enabled") { */
/*   :root[tabsintitlebar="true"] #nav-bar { */
/*     border-inline-width: calc( */
/*         var(--uc-window-control-width, 0px) + */
/*           var(--uc-window-drag-space-post, 0px) */
/*       ) */
/*       var(--uc-window-drag-space-pre, 0px); */
/*   } */
/*   :root[sizemode="fullscreen"] */
/*     #TabsToolbar */
/*     > .titlebar-buttonbox-container:last-child, */
/*   :root[sizemode="fullscreen"] #window-controls { */
/*     right: unset; */
/*   } */
/*   .titlebar-buttonbox-container { */
/*     -moz-box-ordinal-group: 0 !important; */
/*   } */
/*   .titlebar-buttonbox { */
/*     -moz-box-direction: reverse; */
/*   } */
/* } */

/* --------------------------------------------- */

.tabbrowser-tab:not([pinned="true"]) {
  max-height: 8px !important;
}

#TabsToolbar {
  max-height: 38px !important;
  margin: 0px;
  padding: 0px;
  color: #b38000;
  opacity: 0.8;
}

#nav-bar {
  max-height: 34px !important;
  margin: 0px;
  padding: 0px;
  /* opacity: 0.9; */
}

/* ------------------------------------ */

#urlbar-container:hover ~ .toolbarbutton-1:not([open]),
#urlbar-container:hover ~ #stop-reload-button > .toolbarbutton-1,
#nav-bar > #nav-bar-customization-target:hover ~ toolbarbutton:not([open]),
#nav-bar
  > #nav-bar-customization-target:hover
  ~ toolbaritem:not([open])
  > .toolbarbutton-1,
toolbar .toolbarbutton-1:not([open]),
.titlebar-button,
#tabbrowser-tabs toolbarbutton,
#scrollbutton-up:not(:hover),
#scrollbutton-down:not(:hover) {
  background-image: radial-gradient(
    circle at center,
    var(--toolbarbutton-icon-fill, currentColor) 0,
    var(--toolbarbutton-icon-fill, currentColor) 10%,
    transparent 15%
  );
}
/* Hide placeholder on hover */

toolbar:hover + toolbar .toolbarbutton-1,
vbox:hover + toolbar .toolbarbutton-1,
toolbar:hover .toolbarbutton-1,
#tabbrowser-tabs:hover toolbarbutton,
.titlebar-buttonbox:hover > .titlebar-button {
  background-image: none;
}

#urlbar-container:hover ~ .toolbarbutton-1:not([open]) > *,
#urlbar-container:hover ~ #stop-reload-button > .toolbarbutton-1 > *,
#nav-bar > #nav-bar-customization-target:hover ~ toolbarbutton:not([open]) > *,
toolbar .toolbarbutton-1 > *,
.titlebar-button > *,
#tabbrowser-tabs toolbarbutton > * {
  transform: scale(0);
  transition: transform 82ms linear !important;
}
#scrollbutton-up > .toolbarbutton-icon,
#scrollbutton-down > .toolbarbutton-icon {
  transform: scale(0) !important;
  transition: transform 82ms linear !important;
}

toolbar:hover .toolbarbutton-1:not(#PanelUI-menu-button) > *,
#nav-bar-overflow-button:hover + #PanelUI-button > .toolbarbutton-1 > stack,
#PanelUI-menu-button:hover > stack,
#titlebar:hover ~ toolbar .toolbarbutton-1 > *,
.toolbarbutton-1[open] > *,
.titlebar-buttonbox:hover > .titlebar-button > *,
#tabbrowser-tabs:hover toolbarbutton > * {
  transform: scale(1);
}
#scrollbutton-up:hover > .toolbarbutton-icon {
  transform: scale(1) !important;
}
#scrollbutton-down:hover > .toolbarbutton-icon {
  transform: scale(-1) !important;
}

/* Urlbar icons, this way they show colors is applicable */
.urlbar-icon {
  transition: transform 82ms linear !important;
}
#urlbar:not(:hover) .urlbar-icon:not([open]) {
  transform: scale(0.3);
}

/* /* The menu button has some margin on non-compact density which creates annnoying transitions */
*/
/* /* Lets remove that as well as border since this is minimal style anyway */ */
#PanelUI-button {
  border-left: 0px !important;
  margin-left: 0px !important;
}

/* /* Add a glow-effect to some buttons when it has some "alert" */
*/ #nav-bar:not(:hover) > #PanelUI-button > #PanelUI-menu-button[badge-status],
#navigator-toolbox:not(:hover) #downloads-button[attention] {
  filter: brightness(2) drop-shadow(0 0 3px orange) drop-shadow(0 0 1px orange);
}
#nav-bar:not(:hover)
  > #PanelUI-button
  > #PanelUI-menu-button[badge-status^="update"],
#navigator-toolbox:not(:hover) #downloads-button[attention="success"] {
  filter: brightness(2) drop-shadow(0 0 2px cyan) drop-shadow(0 0 1px cyan);
}
